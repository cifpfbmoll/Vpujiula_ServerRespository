 <?php
        if (isset($_GET['agenda'])) {
            $agenda = $_GET['agenda'];
        } else {

            $agenda = [];
        }

    //Si se ha enviado la peticion
    if (isset($_GET['submit'])) {
        //Quita los espacios de los lados y comprueba que lo enviado no sea igual a nada
        if(trim($_GET['nombre']) != "" && $_GET['telefono'] != ""){
            $agenda[$_GET['nombre']] = $_GET['telefono']; //Define que el indice de la array sea el nombre y su valor el telefono
        } else {
            if ($_GET['nombre'] == "") {
                echo "Tienes que a      adir algo en el nombre"; //Si es igual a nada muestra un aviso
            } elseif(isset($agenda[$_GET['nombre']]) == false) {
                echo"El nombre introducido no se encuentra en la agenda, por lo tanto no puede ser eliminado";
            } else {
                echo"Se ha eliminado de la agenda a " . $_GET['nombre'];
                unset($agenda[$_GET['nombre']]); //Si es igual a nada muestra un aviso
            }

        }
    }
        ?>
        <form>
            <input type="text" name="nombre" value="" />
            <input type="number" name="telefono" value="" />
            <?php
            foreach ($agenda as $nombre => $telefono) {
                echo'<input type="hidden" name="agenda[' . $nombre . ']" value="' . $telefono . '">';
            }

            ?>
            <input type="submit" name="submit" value="Enviar"/>
        </form>
        <h1>Agenda</h1>
        <?php
        echo "<ul>";
        foreach ($agenda as $nombre => $telefono) {
            echo "<li class='parta'>$nombre:$telefono</li>";
        }
        echo '</ul>';
        ?>


